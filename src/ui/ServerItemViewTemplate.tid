title: $:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemViewTemplate
type: text/vnd.tiddlywiki

{{||$:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemViewTemplateBasic}}

<!-- allow update server info using scan qr code -->
<div class="tw-mobile-sync-existed-server-field-fields-container">
  <$edit-text tiddler="$:/state/tw-mobile-sync/server/existed/update" default="" tag="input" />

  <div class="tw-mobile-sync-existed-server-field-fields-buttons">
    <$button>
      智能识别 Smart Identify
      <$action-sendmessage $message="tw-mobile-sync-smart-recognize-ip-address" from="$:/state/tw-mobile-sync/server/existed/update" to={{!!title}} />
    </$button>

    <$reveal type="nomatch" state="$:/state/tw-mobile-sync/server/existed/scan-qr-widget-open" text="yes">
      <$button>
        扫二维码 Scan QR
        <$action-setfield $tiddler="$:/state/tw-mobile-sync/server/existed/scan-qr-widget-open" text="yes" />
      </$button>
    </$reveal>
    <$reveal type="match" state="$:/state/tw-mobile-sync/server/existed/scan-qr-widget-open" text="yes">
      <$button>
        停止扫码 Stop Scan
        <$action-setfield $tiddler="$:/state/tw-mobile-sync/server/existed/scan-qr-widget-open" text="no" />
      </$button>
    </$reveal>
  </div>
</div>

<$reveal type="match" state="$:/state/tw-mobile-sync/server/existed/scan-qr-widget-open" text="yes">
  <$ScanQRWidget outputTiddler="$:/state/tw-mobile-sync/server/existed/update" stopOnDetect="yes" stateTiddler="$:/state/tw-mobile-sync/server/existed/scan-qr-widget-open" />
</$reveal>